<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pirate.io - Battle Royale</title>
    <link rel="stylesheet" href="../../shared/css/common.css">
    <link rel="stylesheet" href="css/game.css">
    <link rel="stylesheet" href="css/ui.css">
</head>
<body>
    <!-- √âcran de chargement -->
    <div id="loadingScreen" class="screen active">
        <div class="loading-content">
            <h1>üè¥‚Äç‚ò†Ô∏è PIRATE.IO</h1>
            <div class="loading-spinner"></div>
            <p>Chargement du jeu...</p>
        </div>
    </div>

    <!-- Menu principal -->
    <div id="menuScreen" class="screen">
        <div class="menu-container">
            <div class="menu-header">
                <h1>üè¥‚Äç‚ò†Ô∏è PIRATE.IO</h1>
                <p class="subtitle">Deviens le roi des pirates !</p>
            </div>

            <div class="username-editor">
                <label for="usernameInput">üë§ Ton pseudo :</label>
                <input type="text" id="usernameInput" maxlength="20" placeholder="Entre ton pseudo">
                <button class="btn btn-secondary btn-small" id="saveUsernameBtn">üíæ Sauvegarder</button>
            </div>

            <div class="menu-stats">
                <div class="stat-box">
                    <div class="stat-label">Meilleur Score</div>
                    <div class="stat-value" id="bestScore">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Parties Jou√©es</div>
                    <div class="stat-value" id="gamesPlayed">0</div>
                </div>
            </div>

            <div class="menu-controls">
                <h3>üéÆ Contr√¥les</h3>
                <div class="controls-grid">
                    <div class="control-item">
                        <span class="key">ZQSD</span>
                        <span>D√©placements</span>
                    </div>
                    <div class="control-item">
                        <span class="key">‚Üë‚Üê‚Üì‚Üí</span>
                        <span>D√©placements</span>
                    </div>
                    <div class="control-item">
                        <span class="key">Clic</span>
                        <span>Attaquer</span>
                    </div>
                    <div class="control-item">
                        <span class="key">Espace</span>
                        <span>Dash</span>
                    </div>
                </div>
            </div>

            <button class="btn btn-success btn-large pulse" id="playBtn">
                ‚öîÔ∏è JOUER MAINTENANT
            </button>

            <button class="btn btn-secondary" id="backToHubBtn">
                ‚¨ÖÔ∏è Retour au Hub
            </button>
        </div>
    </div>

    <!-- √âcran de jeu -->
    <div id="gameScreen" class="screen">
        <!-- Canvas de jeu -->
        <canvas id="gameCanvas"></canvas>

        <!-- HUD (interface en jeu) -->
        <div id="hud">
            <!-- Top left - Stats joueur -->
            <div class="hud-top-left">
                <div class="player-info">
                    <div class="player-name" id="playerName">Joueur</div>
                    <div class="health-bar">
                        <div class="health-fill" id="healthFill"></div>
                        <span class="health-text" id="healthText">100/100</span>
                    </div>
                    <div class="player-stats">
                        <span>‚öîÔ∏è <span id="killCount">0</span> kills</span>
                        <span>üí∞ <span id="coinCount">0</span> coins</span>
                    </div>
                </div>
            </div>

            <!-- Top right - Timer et zone -->
            <div class="hud-top-right">
                <div class="timer-box">
                    <div class="timer-label">‚è±Ô∏è Temps</div>
                    <div class="timer-value" id="gameTimer">0:00</div>
                </div>
                <div class="zone-box">
                    <div class="zone-label">üåä Zone</div>
                    <div class="zone-status" id="zoneStatus">S√©curis√©e</div>
                    <div class="zone-timer" id="zoneTimer">--</div>
                </div>
            </div>

            <!-- Leaderboard -->
            <div class="hud-leaderboard">
                <div class="leaderboard-title">üèÜ Top Pirates</div>
                <div id="leaderboardList"></div>
            </div>

            <!-- Minimap -->
            <div class="hud-minimap">
                <canvas id="minimapCanvas" width="150" height="150"></canvas>
            </div>

            <!-- Messages de kill -->
            <div id="killFeed"></div>
        </div>
    </div>

    <!-- √âcran de game over -->
    <div id="gameOverScreen" class="screen">
        <div class="gameover-container">
            <h1 class="gameover-title" id="gameOverTitle">üíÄ GAME OVER</h1>
            
            <div class="gameover-stats">
                <div class="gameover-stat">
                    <div class="stat-icon">üèÜ</div>
                    <div class="stat-info">
                        <div class="stat-label">Position Finale</div>
                        <div class="stat-value" id="finalRank">-</div>
                    </div>
                </div>
                <div class="gameover-stat">
                    <div class="stat-icon">‚öîÔ∏è</div>
                    <div class="stat-info">
                        <div class="stat-label">Kills</div>
                        <div class="stat-value" id="finalKills">0</div>
                    </div>
                </div>
                <div class="gameover-stat">
                    <div class="stat-icon">üí∞</div>
                    <div class="stat-info">
                        <div class="stat-label">Coins</div>
                        <div class="stat-value" id="finalCoins">0</div>
                    </div>
                </div>
                <div class="gameover-stat">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-info">
                        <div class="stat-label">Temps Surv√©cu</div>
                        <div class="stat-value" id="finalTime">0:00</div>
                    </div>
                </div>
            </div>

            <div class="gameover-buttons">
                <button class="btn btn-success btn-large" id="playAgainBtn">
                    üîÑ REJOUER
                </button>
                <button class="btn btn-secondary" id="backToMenuBtn">
                    üìã Menu Principal
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts - Ordre important ! -->
    <!-- Utilitaires partag√©s -->
    <script src="../../shared/js/sso.js"></script>
    <script src="../../shared/js/utils.js"></script>

    <!-- Core du jeu -->
    <script src="js/core/InputManager.js"></script>
    <script src="js/core/Renderer.js"></script>
    <script src="js/core/Game.js"></script>

    <!-- Entit√©s -->
    <script src="js/entities/Entity.js"></script>
    <script src="js/entities/Player.js"></script>
    <script src="js/entities/Bot.js"></script>

    <!-- Monde -->
    <script src="js/world/Map.js"></script>
    <script src="js/world/Island.js"></script>
    <script src="js/world/SafeZone.js"></script>

    <!-- Combat -->
    <script src="js/combat/Weapon.js"></script>
    <script src="js/combat/CombatSystem.js"></script>

    <!-- IA -->
    <script src="js/ai/BotAI.js"></script>

    <!-- UI -->
    <script src="js/ui/HUD.js"></script>
    <script src="js/ui/Leaderboard.js"></script>
    <script src="js/ui/NameEditor.js"></script>

    <!-- Point d'entr√©e -->
    <script src="js/main.js"></script>
</body>
</html>
